# 팀 개발을 위한 Git.GitHub 시작하기 

## 7일에 끝내는 Git - 2일차> Chapter 4 : 둘 이상의 원격저장소로 협업하기 
- fork : 남의 원격저장소를 복사해서 내 계정의 원격저장소로 복사.
- clone : 원격저장소를 로컬저장소로 가져온다.
  
### 평행세계를 만드는 브랜치(branch), 평행우주를 만드는 포크(fork)
- 원격저장소에 커밋을 직접 푸시할 수 있는 사람은 원격저장소를 만든 본인(소유자)뿐
- 다른 사람이 푸시하려면 원격저장소의 소유자가 협력자로 등록을 해야 한다. 
- 등록되지 않은 사람이 푸시를 하면 에러가 난다. 
- 협력자 등록: [Settings - Collaborators - Add collaborator ]

- 원격저장소를 자신의 계정에 fork해서 원격저장소를 생성하고, 이곳에 commit을 올린 후 소유자에게 merge를 요청 하면 소유자는 개발자의 merge요청을 검토해서 원격 저장소에 반영
  - => branch를 통해 코드 분기점을 만들고 pull request를 통해 확인하고 merge하는 과정.    
        ( fork한 원격저장소의 branch에서 원본의 원격저장소의 branch로 풀 리퀘스트를 보내는 것 )
    
<br>

***
#### 브랜치 : 하나의 원격저장소에서 `분기(branch)`를 나눈다.
  - 하나의 원격저장소에서 코드 커밋 이력을 편하게 볼 수 있다. 
  - 다수의 사용자가 다수의 브랜치를 만들면 관리하기 힘들다.
  
<br>

***

####  포크 : 여러 원격저장소를 만들어 분기`(branch)`를 나눈다.
  - 원본 원격저장소의 이력을 보려면 따로 주소를 추가해야 한다.
  - 원본 원격저장소에 영향을 미치지 않으므로 내 원격저장소에서 마음껏 코드를 수정할 수 있다. 

- [File changed] : 어떤 새로운 코드가 풀 리퀘스트에 담겨 있는지 확인할 수 있다. 
- 변경된 코드의 왼쪽에서 [+] 버튼을 클릭해서 코드 라인별로 댓글을 달 수 있다. 
- 수정사항을 제안하거나 질문 가능. 코드리뷰 후 [Revuew changes]->[Write]
  - [Comment] : 댓글기능
  - [Approve] -> [Submit review] : 병합
  - [Request changes] : 수정 요청
  - [Merge pull request] -> [confirm merge] : 풀 리퀘스트를 병합 (원본 원격저장소 주인만 가능)
  - 병합이 성공적으로 완료되면 `<name> merge commit` 메시지가 뜬다. 

<br>

***

#### 묵은 커밋을 새 커밋으로 이력 조작하기 ( rebase )
- 풀 리퀘스트를 보냈을 때 충돌이 난다면 두가지 방법이 있다. 
  1. 현재 커밋과 병합(merge)하고 싶은 커밋을 미리 내 브랜치에서 병합해서 병합 커밋을 만들고 이를 풀 리퀘스트로 보내는 방법
    - 나의 풀 리퀘스트에 불 필요한 병합 커밋의 이력이 남는다.=> 충돌을 해결하느라 쓸데없는 코드가 더 들어간 것
  2. 묵은 커밋을 방금 한 커밋처럼: 리베이스(rebase)
    - 커밋의 베이스를 다시 잡는 것
    - 내 브랜치에 내 변경사항만 남길 수 있다는 장점 
    - 리베이스는 히스토리를 `강제로` 조작하기 때문에 다른 사람이 만약 이 히스토리를 보고 있다면 완전히 꼬인다.
    - 반드시 혼자만 쓰는 브랜치에서 수행해야한다.
    - 리베이스는 커밋을 하나씩 비교하면서 충돌이 있나 없나 확인하기 때문에 계속 같은 곳을 수정했다면 충돌이 여러 번 날 수도 있다. 
    - 리베이스는 강제로 이력을 조작하는 행위이기 때문에 `강제 푸시`를 해야한다. 

<br>

***
#### 소스트리에서 여러 원격저장소 히스토리 한 눈에 보기 : 리모트 추가 (Add remote)
  - 소스트리가 원본저장소와 원격저장소를 동시에 추적하도록 만들기
    - 하나의 로컬저장소에서 두 개 이상의 원격저장소를 바라보기 
  - `upstream` : 원본저장소를 지칭하는 관용적 닉네임 
- 패치(Fetch) : [upstream] 원본저장소에 있는 커밋 히스토리를 받아오는 것. `새로고침`
  - 원본저장소 이력을 업데이트한다.
  - 이력만 가져오기 때문에 코드에 영향은 없다.
  
<br>

***
#### 프로필 첫 페이지 
- [Your profile] -> [Customize your pins] : 프로필 첫 페이지에 노출되는 원본저장소 목록을 지정할 수 있다.

<br>

