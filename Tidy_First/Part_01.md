# 코드 정리법
## Chapter 01 보호 구문

보호 구문(Guard Clause)은 코드에서 특정 조건을 미리 검사하여, 조건이 만족되지 않으면 즉시 실행을 중단하거나 다른 경로로 흐름을 전환하는 프로그래밍 기법입니다. 주로 **"특정 조건이 만족되지 않으면 빠르게 종료"**하는 방식으로 사용됩니다. 이는 코드의 가독성을 높이고 중첩된 조건문을 줄이는 데 도움이 됩니다.

### 특징:
1. **초기 조건 검사**: 함수나 메서드의 초기에 특정 조건을 검사해 실행 여부를 결정.
2. **간결한 흐름**: 중첩된 `if-else`를 피하고 코드를 간결하고 명확하게 유지.
3. **예외 처리**: 조건이 만족되지 않을 경우, 반환하거나 예외를 던짐.

- 보호 구문이 있는 코드라면 전제조건이 명시적으로 드러날 때 분석하기 쉽다. 
- 단, 보호 구문을 남용하지는 말라.

## Chapter 02 안 쓰는 코드 

지워라. 

- 안 쓰는 코드 찾기는 어렵다. 리플렉션을 여러 번 사용한 코드가 그렇다. 
- 혹여나, 나중에 쓸 거 같다면 이는 형상 관리 도구가 해결해 줄 것이다. 

대부분 나중에 쓸 거 같은 코드는 안쓰인다. 

## Chapter 03 대칭으로 맞추기 

- 코드는 유기체처럼 성장하여, 같은 문제라도 시대와 사람에 따라 다른 모습으로 해결된다. 
- 같은 동작을 하는 코드라도 다른 방식으로 해결된다면 다른 일인 것처럼 느껴져 혼란을 야기한다. 
- 루틴을 찾아내 한 가지 방식(패턴)으로 정리한다. 

방식이 통일되면 어떤 방식으로 구현할지 고민하는 시간이 줄어들고, 코드를 읽는 입장에서도 읽을 때 피로가 덜하다. 

## Chapter 04 새로운 인터페이스로 기존 루틴 부르기 

- 루틴 호출시 아래와 같은 경우에 통로 인터페이스를 새로 구현한다. 
    - 어렵거나
    - 복잡하거나
    - 혼란스럽거나
    - 지루하거나
- 기존 인터페이스 호출을 모두 새 인터페이스 호출하도록 이전한 후에는 이전 인터페이스를 제거하고 새 인터페이스가 직접 루틴을 구현하도록 변경할 수 있다. 
- 어떤 동작을 변경할 때 변경하기 한층 수월해진다. 
- 거꾸로 코딩하기: 루틴의 마지막 줄부터 시작
- 테스트 우선 코딩: 테스트부터 작성하여 통과 요건을 정함.
- 도우미 설계: 특정 업무를 해 주는 루틴, 객체 , 서비스가 있다면 나머지 작업은 쉬워진다. 

## Chapter 05 읽는 순서 

- 읽기 좋은 순서로 정렬하라. 순서대로 코드를 읽으 수 있게 해야 한다. 
- 코드 세부사항 정리와 정렬 작업은 분리하라 
- 완벽한 순서는 없다. 스스로 독자가 되어 판별하라. 

## Chapter 06 응집도를 높이는 배치 

- 여러 곳에 픝어져 있는 코드를 함께 바뚸야 한다는 걸 알았다면, 코드의 순서를 바꿔서 변경할 요소들을 가까이 두면 된다. 
- 결합도가 있는 코드를 같은 코드 저장소(디렉터리, 파일)에 넣은 후 변경하라. 

> 결합도 제거 비용 + 변경 비용 < 결합도에 따른 비용 + 변경 비용

- 응집도를 높이는 순서로 정리하면, 코드를 더 쉽게 변경할 수 있다. 
- 응집도가 좋아지면 결합도 역시 덩달아 좋아진다. 

## Chapter 07 선언과 초기화를 함께 옮기기 

- 초기화를 변수 선언 근처로 이동하라.
- 변수를 사용하기 직전에 선언하고 초기화하는 경우와 함수 맨 위에 모든 변수를 함께 선언한고 이후에 초기화하는 경우 중 어느 쪽이 코드를 읽고 이해하기 쉬울지 코드를 읽는 사람의 입장에서 상상하라 
- 변수 사이에 데이터 종속이 있는 경우, 데이터 종속 순서도 함께 유지해야 한다.

## Chapter 08 설명하는 변수 
- 표현식의 의도가 드러나도록 변수 이름을 만들어 할당하라. 

## Chapter 09 설명하는 상수 
- 상징적인 상수를 만들라. 
- 같은 리터럴 상수가 두 곳에서 나타날 때는 다른 의미로 쓰이는지 확인하라 
- 빈약한 의미를 가진 코드 정리는 도움이 되지 않는다. 
    - ex: ONE = 1 
- 한번에 바뀌어야 하거나 함께 이해해야 한느 상수들을 한곳에 모아두고, 다른 이유로 묶인 변수들을 분리하는 후속 작업을 해야 함. 

## Chapter 10 명시적인 매개변수 
- 명시적인 매개변수가 필요한 또 다른 경우는 중괄호가 여러 개로 둘러싸인 코드에서 환경 변수를 사용하는 경우. 
- 매개변수를 명시적으로 드러나게 만든 다음, 함수를 연쇄적으로 호출할 수 있게 준비하세요. 이렇게 만들면 코드는 읽기와 테스트, 분석이 쉬워집니다. 

## Chapter 11 비슷한 코드끼리 
- 이 부분은 이렇게 하고, 저 부분은 저렇게 하는구나라고 구분이 될 때는 두 부분 사이에 빈 줄을 넣어 분리 
- 작은 소프트웨어 설계로 변화를 좀 더 쉽게 만들 수 있다. 
- 관련 있는 코드를 뭉쳐두면 다양한 길로 나아갈 수 있다. 

## Chapter 12 도우미 추출
- 목적이 분명하고 나머지 코드와는 상호작용이 적은 코드 블록을 추려내고, 도우미로 추출한 후에 이름을 붙인다. **목적**에 따라 이름을 붙인다.
- 특수 사례: 시간적 결합을 표현하는 경우 (a함수가 b보다 앞서 호출되어야하는 경우)

```kotiln
fun ab():
    a()
    b()
```

- 도우미 사용은 또 다른 코드 정리에도 도움이 된다. 

## Chapter 13 하나의 더미 
- 필요한 만큼의 코드를 하나의 더미처럼 느껴질 때까지 흩어진 코드를 모으세요. 
- 코드 정리를 선행하면 더 작은 조각의 단위로 결합을 제거하는 길을 제시하여 응집도를 높일 수 있습니다. 
- 한데 모아서 이해하기 어려운 부분은 추출해서 새롭게 정리해야 함. 

## Chapter 14 설명하는 주석 
- 코드에서 명확하지 않은 내용만 골라 적으세요. 
- 코드의 결함을 발견했다면, 그 즉시 해당 위치에 주석을 달아야 합니다. 

## Chapter 15 불필요한 주석 지우기 
- 코드만으로 내용을 모두 이해할 수 있다면 주석은 삭제하세요. 

## 전체적으로 반복되는 구절
- 단순하게, 점진적으로 변경하라 
- 코드 정리에 대한 커밋과 동작 변경에 대한 커밋은 분리해야 한다. 
