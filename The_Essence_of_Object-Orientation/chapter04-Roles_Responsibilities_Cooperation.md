# 객체지향의 사실과 오해: 04 역할, 책임, 협력

> 객체의 세계에서도 협력이라는 문맥이 객체의 행동 방식을 결정한다.

객체지향 설계의 전체적인 품질을 결정하는 것은 개별 객체의 품질이 아니라 여러 객체들이 모여 이뤄내는 협력의 품질이다.
`협력`이 자리를 잡으면 저절로 `객체의 행동`이 드러나고 뒤이어 적절한 `객체의 상태`가 결정된다.

> 개별적인 객체의 행동이나 상태가 아니라 객체들 간의 협력에 집중하라

## 협력 

협력은 한 사람이 다른 사람에게 도움을 `요청`할 때 시작된다. 
요청을 받은 사람은 일을 처리한 후 요청한 사람에게 필요한 지식이나 서비스를 제공하는 것으로 요청에 `응답`한다.   

- 다수의 요청과 응답으로 구성
- 다수의 연쇄적인 요청과 응답의 흐름으로 구성 

객체지향의 세계는 `동일한 목적`을 달성하기 위해 협력하는 객체들의 공동체
- 요청과 응답은 협력에 참여하는 객체가 수행할 책임을 정의한다.

<br>

***
## 책임

어떤 객체가 어떤 요청에 대해 대답해 줄 수 있거나, 적절한 행동을 할 의무가 있는 경우 해당 객체가 `책임`을 가진다고 말한다.   
어떤 대상에 대한 요청은 그 대상이 요청을 처리할 `책임`이 있음을 암시한다. 
> "객체지향 개발에서 가장 중요한 능력은 책임을 능숙하게 소프트웨어 객체에 할당하는 것"

협력에 참여하는 객체들은 목표를 달성하는 데 필요한 책임을 수행한다. 
- 응집도 있는 행위의 집합
- 객체가 무엇을 알고 있는가 (knowing)
- 무엇을 할 수 있는가 (doing)

### 하는 것 (doing)
- 객체를 생성하거나 계산을 하는 등의 스스로 하는것
- 다른 객체의 행동을 시작시키는 것
- 다른 객체의 활동을 제어하고 조절하는 것


### 아는 것 (knowing)
- 개인적인 정보에 관해 아는 것
- 관련된 객체에 관해 아는 것
- 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

`책임`은 객체지향 설계의 `품질`을 결정하는 가장 중요한 요소다.   
책임은 객체의 외부에 제공해 줄 수 있는 `정보(아는 것의 측면)`와 외부에 제공해 줄 수 있는 `서비스(하는 것의 측면)`의 목록이다.   
책인은 객체의 **공툩 인터페이스(public interface)를 구성한다. 

<br>

### 책임과 메시지

협력 안에서 객체는 다른 객체로부터 요청이 전송됐을 경우에만 자신에게 주어진 책임을 수행한다. 한
- **메시지 전송** : 객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것 
- 송신자: 메시지를 전송함으로써 협력을 요청하는 객체
- 수신자: 메시지를 받아 요청을 처리하는 객체 

책임이 `협력`이라는 문맥 속에서 요청을 수신하는 한 쪽의 객체 관점에서 `무엇을 할 수 있을지`를 나열하는 것이라면   
`메시지`는 협력에 참여하는 두 객체 사이의 `관계`를 강조한 것이다.   

설계를 시작하는 초반에는 어떤 객체가 어떤 책임을 가지고 어떤 방식으로 서로 협력 해야 하는지에 대한 개요를 아는 것만으로도 충분하다. 
`객체지향 설계`는 협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행해랴 하고 어떤 객체로부터 메시지를 수신할 것인지를 결정하는 것으로부터 시작된다.

<br>

***
## 역할
> 결론적으로 어떤 객체가 수행하는 책임의 집합은 객체가 협력 안에서 수행하는 역할을 암시한다.
> 
> .. (중략) ..
> 
> 그것은 역할이 재사용 가능하고 유연한 객체지향 설계를 낳는 매우 중요한 구성요소이기 때문이다. 


