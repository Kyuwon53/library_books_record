# 객체지향의 사실과 오해: 07 함께 모으기 

> 코드와 모델을 밀접하게 연관시키는 것은 코드에 의미를 부여하고 모델을 적절하게 한다. 
> 

###### 객체지향 설계 안에 존재하는 세 가지 상호 연관된 관점

1. **개념관점 ( Conceptual Prespective )**
- 설계 : 도메인 안에 존재하는 개념과 개념들 사이의 관계
- 도메인 : 사용자들이 관심을 가지고 있는 특정 분야나 주제
- 소프트웨어 : 도메인에 존재하는 문제를 해결하기 위해 개발 

  
- 사용자가 도메인을 바라보는 관점을 반영한다. 
- 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심 

2. **명세 관점(Specification Perspective)**
- 소프트웨어 안에서 살아 숨쉬는 객체들의 책임에 초점 
- 객체의 인터페이스를 바라봄
- 객체가 협력을 위해 `무엇`을 할 수 있는가에 초점 


3. **구현 관점(Implementation Perspective)**
- 객체들이 책임을 수행하는 데 필요한 동작하는 코드를 작성
- 객체의 책임을 `어떻게` 수행할 것인가에 초점 
- 인터페이스를 구현하는 데 필요한 `속성`과 `메서드`를 클래스에 추가한다. 

<br>

클래스는 세 가지 관점이라는 안경을 통해 설계와 관련된 다양한 측면을 드러낼 수 있다. 

- 클래스가 **은유하는 개념**은 `도메인 관점`을 반영
- 클래스의 **공용 인터페이스**는 `명세 관점을 반영
- 클래스의 **속성과 메서드**는 `구현 관점`을 반영 

- 클래스는 세 가지 관점을 모두 수용할 수 있도록 개념, 인터페이스, 구현을 함께 드러내야 한다.


- 협력 안에서 메시지를 선택하고 메시지를 수신할 객체를 선택하는 것은 객체의 인터페이스, 즉 **명세 관점에서 객체를 바라보는 것이다.**


- 소프트웨어가 대상으로 하는 영역인 도메인을 단순화해서 표현한 모델을 `도메인 모델`이라고 한다.

- 객체지향 설계의 첫 번째 목표는 `훌륭한 협력을 설계`하는 것이다.
    - `훌륭한 객체`는 `훌륭한 협력`을 설계할 때만 얻을 수 있다.
    
> 설계 작업은 구현을 위한 스케치를 작성하는 단계지 구현 그 자체일 수는 없다. 중요한 것은 설계가 아니라 코드다.
> 따라서 협력을 구상하는 단계에 너무 오랜 시간을 쏟지 말고 최대한 빨리 코드를 구현해서 설계에 이상이 없는지, 설계가 
> 구현 가능한지를 판단해야 한다. 코드를 통한 피드백 없이는 깔끔한 설계를 얻을 수 없다.
 
***

## 코드와 세가지 관점

### 코드는 세 가지 관점을 모두 제공해야 한다. 
- 개념관점에서 코드를 바라보면 클래스가 보인다.
    - 소프트웨어 클래스가 도메인 개념의 특성을 최대한 수용하면 변경을 관리하기 쉽고 유지보수성을 향상시킬 수 있다.
    - 소프트웨어 클래스와 도메인 클래스 사이의 간격이 좁으면 좁을수록 기능을 변경하기 위해 뒤적거려야 하는 코드의 양도 점점 줄어든다.



- 명세 관점은 클래스의 인터페이스를 바라본다.
    - 객체의 인터페이스는 수정하기 어렵다. 
    - 최대한 변화에 안정적인 인터페이스를 만들기 위해서는 인터페이스를 통해 구현과 관련된 세부 사항이 드러나지 않게 해야 한다.


- 구현관점은 클래스의 내부 구현을 바라본다.
    - 클래스의 메서드와 속성은 구현에 속하며 공용 인터페이스의 일부가 아니다. 
    - 메서드의 구현과 속성의 변경은 원칙적으로 외부의 객체에게 영향을 미쳐서는 안 된다.
    - 메서드와 속성이 철저하게 클래스 내부로 `캡슐화`돼야 한다는 것을 의미
    
> 세 가지 관점이 명확하게 드러날 수 있게 코드를 개선하라. 그것이 변경에 유연하게 대응할 수 있는 객체지향 코드를 작성하는 가장 빠른 길이다.


### 도메인 개념을 참조하는 이유
 도메인 개념 안에서 적절한 객체를 선택하는 것은 도메인에 대한 지식을 기반으로 코드의 구조와 의미를 쉽게 유추할 수 있게 한다. 
 이것은 **시스템의 유지보수성에 커다란 영향을 미친다.**
 
### 인테페이스와 구현을 분리하라. 

> 다시 한 번 강조한다. 인터페이스와 구현을 분리하라.

- 명세 관점은 클래스의 안정적인 측면을 드러내야 한다. 
- 구현 관점은 클래스의 불안정한 측면을 드러내야 한다. 

명세 관점이 설계를 주도하게 하면 설계의 품질이 향상될 수 있다는 사실을 기억하라. 

중요한 것은 클래스를 `명세 관점`과 `구현 관점`으로 나눠볼 수 있어야 한다는 것이다. 

